diff --git a/lua/plenary/async/tests.lua b/lua/plenary/async/tests.lua
index 4895773..01ed548 100644
--- a/lua/plenary/async/tests.lua
+++ b/lua/plenary/async/tests.lua
@@ -7,7 +7,7 @@ M.describe = function(s, async_func)
 end
 
 M.it = function(s, async_func)
-  it(s, util.will_block(async_func))
+  it(s, util.will_block(async_func, tonumber(vim.env.PLENARY_TEST_TIMEOUT)))
 end
 
 M.before_each = function(async_func)
diff --git a/lua/plenary/async/util.lua b/lua/plenary/async/util.lua
index 3e6f033..d224f7d 100644
--- a/lua/plenary/async/util.lua
+++ b/lua/plenary/async/util.lua
@@ -40,9 +40,12 @@ M.block_on = function(async_function, timeout)
   return unpack(ret)
 end
 
-M.will_block = function(async_func)
+---@see M.block_on
+---@param async_function Future
+---@param timeout number
+M.will_block = function(async_function, timeout)
   return function()
-    M.block_on(async_func)
+    M.block_on(async_function, timeout)
   end
 end
 
diff --git a/lua/plenary/test_harness.lua b/lua/plenary/test_harness.lua
index 9acd866..e404921 100644
--- a/lua/plenary/test_harness.lua
+++ b/lua/plenary/test_harness.lua
@@ -47,6 +47,8 @@ function harness.test_directory(directory, opts)
     timeout = 50000,
   }, opts or {})
 
+  vim.env.PLENARY_TEST_TIMEOUT = opts.timeout
+
   local res = {}
   if not headless then
     res = win_float.percentage_range_window(0.95, 0.70, opts.winopts)
